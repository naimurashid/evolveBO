% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bo_calibrate.R
\name{default_variance_estimator}
\alias{default_variance_estimator}
\title{Default variance estimator for simulator outputs}
\usage{
default_variance_estimator(metrics, n_rep)
}
\arguments{
\item{metrics}{named numeric vector of operating characteristics.}

\item{n_rep}{number of simulator replications.}
}
\value{
Named numeric vector of variance estimates (may contain NA values).
}
\description{
Provides a fallback variance estimate when the simulator does not return
variance information. Uses binomial variance formula for proportion-type
metrics (values in [0,1]) and returns NA for other metrics.
}
\details{
For metrics that appear to be proportions (e.g., power, type I error),
this function estimates variance using the binomial formula: p(1-p)/n.
For continuous metrics outside [0,1] (e.g., expected sample size, trial
duration), it returns NA, which triggers the use of a small homoskedastic
nugget in the Gaussian process surrogate.

\strong{Recommendation:} For best results, simulators should return variance
estimates as an attribute, especially for non-proportion metrics where the
binomial approximation does not apply.
}
\keyword{internal}
