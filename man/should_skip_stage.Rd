% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bo_warmstart.R
\name{should_skip_stage}
\alias{should_skip_stage}
\title{Determine if a Stage Should be Skipped}
\usage{
should_skip_stage(
  active_dims,
  dim_threshold = 2,
  prev_stage_history = NULL,
  prev_converged = FALSE,
  objective = "EN",
  improvement_threshold = 0.001,
  patience = 3,
  verbose = TRUE
)
}
\arguments{
\item{active_dims}{Integer: number of active (non-fixed) dimensions}

\item{dim_threshold}{Integer: skip if active_dims <= this (default: 2)}

\item{prev_stage_history}{Data frame: history from previous stage (optional)}

\item{prev_converged}{Logical: whether previous stage showed convergence
(default: FALSE)}

\item{objective}{Character: objective metric name (default: "EN")}

\item{improvement_threshold}{Numeric: relative improvement threshold for
convergence detection (default: 1e-3)}

\item{patience}{Integer: number of recent batches to check for improvement
(default: 3)}

\item{verbose}{Logical: print skip decision details?}
}
\value{
List with:
  \describe{
    \item{skip}{Logical: whether to skip the stage}
    \item{reason}{Character: reason for skipping, or NULL if not skipping}
    \item{diagnostics}{List with decision details: active_dims, dim_threshold,
      prev_converged, checked_improvement, best_improvement}
  }
}
\description{
Implements adaptive stage-skipping logic for multi-stage BO:
- Skip if active dimensions <= threshold after dimension reduction
- Skip if previous stage converged (based on improvement stagnation)
- Skip if no improvement in recent evaluations
}
\examples{
\dontrun{
# Before Stage 3
skip_check <- should_skip_stage(
  active_dims = 3,
  dim_threshold = 2,
  prev_stage_history = fit_s2$history,
  prev_converged = FALSE,
  objective = "EN",
  patience = 3
)

if (skip_check$skip) {
  cat("Skipping Stage 3:", skip_check$reason, "\n")
}
}
}
